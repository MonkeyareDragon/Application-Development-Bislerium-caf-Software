@page "/order"

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Shop - Order Page</title>
</head>
<body>
    <div class="container">
        <h2>Coffee Shop - Place Order</h2>
        <form method="post">
            <label for="coffeeType">Coffee Type:</label>
            <select id="coffeeType" name="coffeeType" onchange="updateTotalPrice()">
                <option value="cappuccino">Cappuccino</option>
                <option value="latte">Latte</option>
                <!-- Add other coffee types here -->
            </select>

            <label for="addIns">Add-ins:</label>
            <label class="checkbox"><input type="checkbox" name="addIns" value="cinnamon" onchange="updateTotalPrice()"> Cinnamon</label>
            <label class="checkbox"><input type="checkbox" name="addIns" value="peppermint" onchange="updateTotalPrice()"> Peppermint</label>
            <!-- Add other add-ins here -->

            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" min="1" value="1" oninput="updateTotalPrice()">

            <div id="totalPrice">Total Price: $0.00</div>

            <button type="submit">Place Order</button>
        </form>
    </div>

    <script>
        function updateTotalPrice() {
            var coffeeType = document.getElementById("coffeeType").value;
            var addInsCheckboxes = document.getElementsByName("addIns");
            var quantity = document.getElementById("quantity").valueAsNumber;

            // Replace these fixed prices with your actual pricing logic
            var coffeePrice = 2.50; // Example price for a basic coffee
            var addInsPrice = 0.50; // Example price for each add-in

            var totalPrice = coffeePrice * quantity;

            for (var i = 0; i < addInsCheckboxes.length; i++) {
                if (addInsCheckboxes[i].checked) {
                    totalPrice += addInsPrice;
                }
            }

            document.getElementById("totalPrice").innerText = "Total Price: $" + totalPrice.toFixed(2);
        }
    </script>
</body>
</html>
